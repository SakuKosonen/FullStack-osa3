(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),u=n(13),r=n.n(u),o=(n(19),n(2)),c=n(3),i=n.n(c),m="http://localhost:3001/api/persons",s=function(){return i.a.get(m).then((function(e){return e.data}))},f=function(e){return i.a.post(m,e).then((function(e){return e.data}))},d=function(e){return i.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},h=function(e){return l.a.createElement("form",null,l.a.createElement("div",null,"filter shown with ",l.a.createElement("input",{value:e.filter,onChange:e.handleFilterChange})))},b=function(e){return l.a.createElement("form",{onSubmit:e.addNumero},l.a.createElement("div",null,"name: ",l.a.createElement("input",{value:e.newName,onChange:e.handleChange})),l.a.createElement("div",null,"number: ",l.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"add")))},E=function(e){return console.log(e.persons),l.a.createElement(l.a.Fragment,null," ",e.persons.filter((function(t){return-1!==t.name.indexOf(e.filter)})).map((function(t,n){return l.a.createElement("div",{key:n},l.a.createElement("p",null," ",t.name," ",t.number,l.a.createElement("button",{onClick:function(){return e.poisto(t.id,t.name)}},"delete")))})))},g=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"error"},t)},p=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"notError"},t)},v=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],r=Object(a.useState)(""),c=Object(o.a)(r,2),i=c[0],m=c[1],v=Object(a.useState)(""),O=Object(o.a)(v,2),j=O[0],w=O[1],N=Object(a.useState)(""),C=Object(o.a)(N,2),k=C[0],S=C[1],y=Object(a.useState)(null),F=Object(o.a)(y,2),T=F[0],x=F[1],D=Object(a.useState)(null),J=Object(o.a)(D,2),B=J[0],I=J[1];Object(a.useEffect)((function(){console.log("effect"),s().then((function(e){u(e)}))}),[]);return l.a.createElement("div",null,l.a.createElement("h2",null,"Phonebook"),l.a.createElement(g,{message:T}),l.a.createElement(p,{message:B}),l.a.createElement(h,{handleFilterChange:function(e){S(e.target.value)},filter:k}),l.a.createElement("h2",null,"add a new"),l.a.createElement(b,{addNumero:function(e){e.preventDefault(),console.log("button clicked",e.target);var t=0,a=(n.slice(),{name:i,number:j});n.forEach((function(e,n,a){e.name===i&&(t=1)})),1===t?(t=0,x(i+" is already added to phonebook"),setTimeout((function(){x(null)}),5e3)):(f(a).then((function(e){u(n.concat(e)),m(""),w("")})),t=0,I(i+" added"),setTimeout((function(){I(null)}),5e3))},newName:i,handleChange:function(e){console.log(e.target.value),m(e.target.value)},newNumber:j,handleNumberChange:function(e){console.log(e.target.value),w(e.target.value)}}),l.a.createElement("h2",null,"Numbers"),l.a.createElement(E,{poisto:function(e,t){window.confirm("Delete "+t+" ?")&&(d(e).then((function(){s().then((function(e){u(e)}))})),I(t+" deleted"),setTimeout((function(){I(null)}),5e3))},persons:n,filter:k}))};r.a.render(l.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.263a6eea.chunk.js.map